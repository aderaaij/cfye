{"version":3,"sources":["webpack:///webpack/bootstrap 2d6d7245cb545a854adb","webpack:///./src/assets/js/standalone/service-worker.js"],"names":["cacheStorage","cacheBuster","version","staticCacheName","pagesCacheName","imagesCacheName","themeName","updateStaticCache","caches","open","then","cache","addAll","stashInCache","cacheName","request","response","put","trimCache","maxItems","keys","length","delete","clearOldCaches","Promise","all","filter","key","indexOf","map","self","addEventListener","event","waitUntil","skipWaiting","clients","claim","data","command","url","URL","origin","location","method","respondWith","fetch","catch","match","headers","get","copy","clone","Response"],"mappings":"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","file":"../../../../../service-worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2d6d7245cb545a854adb","// Stolen from: https://github.com/aarontgrogg/aarontgrogg/tree/master/src/scripts\n// TODO: Ideally Gulp replaces this version with the current cache-buster\nconst cacheStorage = 'cfye.com';\nconst cacheBuster = 'CACHE_BUSTER';\nconst version = `${cacheStorage}.${cacheBuster}`;\nconst staticCacheName = `${version}.static`;\nconst pagesCacheName = `${version}.pages`;\nconst imagesCacheName = `${version}.images`;\nconst themeName = 'cfye-2017';\n\nconst updateStaticCache = function () {\n    return caches.open(staticCacheName).then((cache) => {\n        // These items won't block the installation of the Service Worker\n        cache.addAll(['/about/']);\n        // These items must be cached for the Service Worker to complete installation\n        return cache.addAll([\n            `/content/themes/${themeName}/assets/js/script.js`,\n            `/content/themes/${themeName}/assets/css/screen.css`,\n            '/',\n        ]);\n    });\n};\n\nconst stashInCache = function (cacheName, request, response) {\n    caches.open(cacheName).then((cache) => {\n        cache.put(request, response);\n    });\n};\n\n    // Limit the number of items in a specified cache.\nconst trimCache = function (cacheName, maxItems) {\n    caches.open(cacheName).then((cache) => {\n        cache.keys().then((keys) => {\n            if (keys.length > maxItems) {\n                cache.delete(keys[0]).then(trimCache(cacheName, maxItems));\n            }\n        });\n    });\n};\n\n    // Remove caches whose name is no longer valid\nconst clearOldCaches = function () {\n    return caches.keys().then(keys => Promise.all(keys\n        .filter(key => key.indexOf(version) !== 0)\n        .map(key => caches.delete(key))));\n};\n\nself.addEventListener('install', (event) => {\n    event.waitUntil(updateStaticCache().then(() => self.skipWaiting()));\n});\n\nself.addEventListener('activate', (event) => {\n    event.waitUntil(clearOldCaches().then(() => self.clients.claim()));\n});\n\nself.addEventListener('message', (event) => {\n    if (event.data.command == 'trimCaches') {\n        trimCache(pagesCacheName, 20);\n        trimCache(imagesCacheName, 20);\n    }\n});\n\nself.addEventListener('fetch', (event) => {\n    const request = event.request;\n    const url = new URL(request.url);\n\n    // Only deal with requests to my own server\n    if (url.origin !== location.origin) {\n        return;\n    }\n\n    // Ignore requests to some directories (admin pages, includes files, and post previews)\n    if (\n        request.url.indexOf('/wp-admin') !== -1 ||\n      request.url.indexOf('/wp-includes') !== -1 ||\n      request.url.indexOf('preview=true') !== -1\n    ) {\n        return;\n    }\n\n    // For non-GET requests, try the network first, fall back to the offline page\n    if (request.method !== 'GET') {\n        event.respondWith(fetch(request).catch(() => caches.match('/offline/')));\n        return;\n    }\n\n    // For HTML requests, try the network first, fall back to the cache, finally the offline page\n    if (request.headers.get('Accept').indexOf('text/html') !== -1) {\n        event.respondWith(fetch(request)\n            .then((response) => {\n                // NETWORK\n                // Stash a copy of this page in the pages cache\n                const copy = response.clone();\n                stashInCache(pagesCacheName, request, copy);\n                return response;\n            })\n            .catch(() =>\n                // CACHE or FALLBACK\n                caches.match(request).then(response => response || caches.match('/offline/'))));\n        return;\n    }\n\n    // For non-HTML requests, look in the cache first, fall back to the network\n    event.respondWith(caches.match(request).then(response =>\n        // CACHE\n        (\n            response ||\n          fetch(request)\n              .then((response) => {\n              // NETWORK\n              // If the request is for an image, stash a copy of this image in the images cache\n                  if (request.headers.get('Accept').indexOf('image') !== -1) {\n                      const copy = response.clone();\n                      stashInCache(imagesCacheName, request, copy);\n                  }\n                  return response;\n              })\n              .catch(() => {\n              // OFFLINE\n              // If the request is for an image, show an offline placeholder\n                  if (request.headers.get('Accept').indexOf('image') !== -1) {\n                      return new Response(\n                          '<svg role=\"img\" aria-labelledby=\"offline-title\" viewBox=\"0 0 400 300\" xmlns=\"http://www.w3.org/2000/svg\"><title id=\"offline-title\">Offline</title><g fill=\"none\" fill-rule=\"evenodd\"><path fill=\"#D8D8D8\" d=\"M0 0h400v300H0z\"/><text fill=\"#9B9B9B\" font-family=\"Helvetica Neue,Arial,Helvetica,sans-serif\" font-size=\"72\" font-weight=\"bold\"><tspan x=\"93\" y=\"172\">offline</tspan></text></g></svg>',\n                          { headers: { 'Content-Type': 'image/svg+xml' } },\n                      );\n                  }\n              })\n        )));\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/standalone/service-worker.js"],"sourceRoot":""}